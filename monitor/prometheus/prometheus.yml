global:
  scrape_interval: 5s # 多久獲取一次目標
  evaluation_interval: 15s # 多久評估一次規則
#  scrape_timeout: 5s # Can not > scrape_interval`
#  query_log_file: /prometheus/query.log

scrape_configs:
  - job_name: 'nodeexporter'
#    static_configs:
#      - targets: ['192.168.134.149:9100']
#        labels:
#          group: 'local'

    dns_sd_configs: # for swarm
    - names:
      - 'tasks.nodeexporter'
      type: 'A'
      port: 9100


  - job_name: 'docker'
    static_configs:
      - targets: ['192.168.134.149:9323']
        labels:
          group: 'local'

  - job_name: 'prometheus'
    scrape_interval: 10s
    static_configs:
      - targets: ['localhost:9090']
        labels:
          group: 'local'

  - job_name: "cadvisor"
#    static_configs:
#      - targets: ["192.168.134.149:8080"]
#        labels:
#          group: 'local'
    dns_sd_configs: # for swarm
    - names:
      - 'tasks.cadvisor'
      type: 'A'
      port: 8080

#  - job_name: "nginxexport"
#    static_configs:
#      - targets: ["nginxexport:9113"]
#        labels:
#          group: 'local'

#  - job_name: 'postgresql-exporter'
#    static_configs:
#      - targets: ['postgresqlexporter:9187']
#        labels:
#          group: 'local'
#          service: 'db'
  
